<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8">
    <title th:text="${pageTitle}">Danh s√°ch th·∫Øc m·∫Øc</title>
    <script src="https://cdn.tailwindcss.com"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"/>
</head>
<body class="bg-gradient-to-r from-blue-50 to-green-50 min-h-screen p-8">
<div class="max-w-7xl mx-auto mb-2 flex justify-start gap-2">
    <!-- N·∫øu l√† ADMIN th√¨ hi·ªán n√∫t quay v·ªÅ ADMIN dashboard -->
    <th:block th:if="${userRole == 'ADMIN'}">
        <a href="/support/dashboard"
           class="flex items-center justify-center w-10 h-10 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition"
           title="Quay v·ªÅ Dashboard">
            <i class="fa-solid fa-arrow-left text-lg"></i>
        </a>
    </th:block>
    <!-- N√∫t Tho√°t lu√¥n hi·ªán -->
    <th:block th:if="${userRole == 'SUPPORTER'}">
        <a href="/support/dashboard"
           class="flex items-center justify-center w-10 h-10 bg-red-500 text-white rounded-full hover:bg-red-600 transition"
           title="Tho√°t">
            <i class="fa-solid fa-right-from-bracket text-lg"></i>
        </a>
    </th:block>
</div>

<div class="bg-white shadow-xl rounded-2xl p-8 max-w-5xl mx-auto">
    <h2 class="text-3xl font-bold text-blue-900 mb-6 text-center">üìã Danh s√°ch th·∫Øc m·∫Øc</h2>
    <div class="overflow-x-auto">
        <table class="w-full border border-gray-200 rounded-lg overflow-hidden shadow-sm">
            <thead class="bg-blue-100 text-blue-900">
            <tr>
                <th class="px-4 py-3 text-left">C√¢u h·ªèi</th>
                <th class="px-4 py-3 text-left">Email</th>
                <th class="px-4 py-3 text-left">Tr·∫°ng th√°i</th>
                <th class="px-4 py-3 text-center">H√†nh ƒë·ªông</th>
            </tr>
            </thead>
            <tbody>
            <!-- L·∫∑p danh s√°ch c√¢u h·ªèi -->
         <tr th:each="faq : ${faqList}" th:if="${faq.trangThai} == 'MOI'"
    class="border-t hover:bg-blue-50 even:bg-gray-50 transition-colors">
    
    <!-- C√¢u h·ªèi -->
    <td class="px-4 py-3 text-gray-700" th:text="${faq.cauHoi}"></td>
    
    <!-- Email -->
    <td class="px-4 py-3 text-gray-600" th:text="${faq.emailBenhNhan}"></td>
    
    <!-- Tr·∫°ng th√°i -->
    <td class="px-4 py-3">
        <span th:text="${faq.trangThai}"
              th:classappend="
                  ${faq.trangThai} == 'MOI' ? 'bg-yellow-100 text-yellow-800' :
                  (${faq.trangThai} == 'DA_XU_LY' ? 'bg-green-100 text-green-800' :
                  'bg-gray-100 text-gray-700')"
              class="px-3 py-1 rounded-full text-sm font-semibold">
        </span>
    </td>
    
    <!-- N√∫t Tr·∫£ l·ªùi -->
    <td class="px-4 py-3 text-center">
        <a th:href="@{'/faq/' + ${faq.maPh}}"
           class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg shadow-md transition">
            ‚úâÔ∏è Tr·∫£ l·ªùi
        </a>
    </td>
</tr>

            </tbody>
        </table>
    </div>
</div>

</body>
</html>
