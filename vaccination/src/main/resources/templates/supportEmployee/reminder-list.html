<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
<meta charset="UTF-8">
<title>Danh sách nhắc nhở tiêm chủng</title>
<script src="https://cdn.tailwindcss.com"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"/>
</head>
<body class="bg-gradient-to-r from-cyan-100 to-green-100 min-h-screen p-6">

<div class="max-w-7xl mx-auto mb-2 flex justify-start gap-2">
    <!-- Nếu là ADMIN thì hiện nút quay về ADMIN dashboard -->
    <th:block th:if="${userRole == 'ADMIN'}">
        <a href="/support/dashboard"
           class="flex items-center justify-center w-10 h-10 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition"
           title="Quay về Dashboard">
            <i class="fa-solid fa-arrow-left text-lg"></i>
        </a>
    </th:block>
    <!-- Nút Thoát luôn hiện -->
    <th:block th:if="${userRole == 'SUPPORTER'}">
        <a href="/support/dashboard"
           class="flex items-center justify-center w-10 h-10 bg-red-500 text-white rounded-full hover:bg-red-600 transition"
           title="Thoát">
            <i class="fa-solid fa-right-from-bracket text-lg"></i>
        </a>
    </th:block>
</div>
	<div class="bg-white shadow-xl rounded-2xl w-full max-w-6xl mx-auto p-6">
		<h2 class="text-center text-3xl font-bold text-green-700 mb-6">
			Danh sách nhắc nhở tiêm chủng</h2>

		<div class="overflow-x-auto rounded-lg border border-gray-200">
			<table class="min-w-full table-auto text-center text-sm bg-blue-50">
				<thead class="bg-blue-100 font-semibold text-gray-700">
					<tr>
						<th class="px-4 py-2 border">STT</th>
						<th class="px-4 py-2 border">Email</th>
						<th class="px-4 py-2 border">Loại vắc xin dự kiến</th>
						<th class="px-4 py-2 border">Hành động</th>
					</tr>
				</thead>
				<tbody class="bg-white divide-y hover:divide-blue-300">
					<!-- Lặp qua danh sách nhắc nhở từ backend -->
					<tr th:each="item, iterStat : ${reminderList}"
						class="hover:bg-blue-50">
						<td class="px-4 py-2 border" th:text="${iterStat.index + 1}"></td>
						<td class="px-4 py-2 border" th:text="${item.email}"></td>
						<td class="px-4 py-2 border" th:text="${item.loaiVacXinDuKien}"></td>
						<td class="px-4 py-2 border"><a
							th:href="@{'/reminder/' + ${item.benhNhanId}}"
							class="bg-green-600 hover:bg-green-700 text-white font-semibold px-3 py-1 rounded-lg">
								Gữi Email </a></td>
					</tr>
					<tr th:if="${reminderList.isEmpty()}">
						<td class="px-4 py-2 border text-center" colspan="3">Chưa có
							dữ liệu nhắc nhở</td>
					</tr>
				</tbody>

			</table>
		</div>
	</div>

</body>
</html>
